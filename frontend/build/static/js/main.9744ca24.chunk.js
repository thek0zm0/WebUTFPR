(this.webpackJsonpprojeto=this.webpackJsonpprojeto||[]).push([[0],{31:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADjSURBVFhH7ZLLEoMgDEWxY3f9/x/t0s60sQanhQRueKgLzgbQPM4E3GBQycQrxJvg7R8TwdtqoEKaSAh53Wl5bacyckIzuSy8h6mZWCqxSMZTKqUmpa7ptxkahyImSE2odvJ9KDl9hNDCLaRuvO5IRVGszSUioZAWTSxkhWqxTry7kJXuQtYrzwrVPPISmk6ohXwkJI34yCmJ96sJaO/BGp9CTdCaWGgqtHKGVDb4aCk4EBHzjaVYVAoW8oTNlEYPCnvyfgeV6sUqFcH/TmNIoVxfis7z9vlcvlK0XkJmMDgA5z6S4cIKsNJyTQAAAABJRU5ErkJggg=="},33:function(e,t,a){e.exports=a(69)},38:function(e,t,a){},39:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(30),r=a.n(l),o=a(11),s=a(12),c=a(3),m=a(14),u=a(13),d=(a(38),a(39),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={searchTextValue:"",animes:[]},e.updateDom=e.updateDom.bind(Object(c.a)(e)),e.searchAnime=e.searchAnime.bind(Object(c.a)(e)),e.onChangeText=e.onChangeText.bind(Object(c.a)(e)),e}return Object(s.a)(a,[{key:"onChangeText",value:function(e){this.setState({searchTextValue:e.target.value})}},{key:"searchAnime",value:function(e){e.preventDefault(),fetch("".concat("https://api.jikan.moe/v3","/search/anime?q=").concat(this.state.searchTextValue,"&page=1")).then((function(e){return e.json()})).then(this.updateDom).catch((function(e){return console.warn(e.message)}))}},{key:"updateDom",value:function(e){this.setState({animes:e.results})}},{key:"render",value:function(){return this.props.loggedIn?i.a.createElement(i.a.Fragment,null,i.a.createElement("form",{id:"search_form",className:"searchForm"},i.a.createElement("label",{htmlFor:"search"},"Digite o nome do anime"),i.a.createElement("input",{type:"text",onChange:this.onChangeText,onSubmit:this.searchAnime}),i.a.createElement("button",{onClick:this.searchAnime},"Search")),i.a.createElement("div",{className:"search-results"},this.state.animes.map((function(e,t){return i.a.createElement("div",{key:t,className:"anime"},i.a.createElement("h5",null,e.title),i.a.createElement("img",{src:e.image_url,alt:""}),i.a.createElement("p",null,e.synopsis),i.a.createElement("a",{href:e.url},"Link P\xe1gina do Anime"))}))),i.a.createElement("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"})):i.a.createElement(i.a.Fragment,null)}}]),a}(n.Component)),h=a(8),g=a(9),p=a.n(g),E=(a(57),function(e){return i.a.createElement("div",{className:"idioma"},i.a.createElement("a",{className:"link",href:e.link,title:e.title},i.a.createElement("h2",null,e.lingua),i.a.createElement("p",{className:"artigos"},e.qtd_articulos)))}),f=(a(58),function(){return i.a.createElement("div",{className:"centro"},i.a.createElement(E,{link:"//en.wikipedia.org/",title:"English \u2014 Wikipedia \u2014 The Free Encyclopedia",lingua:"English",qtd_articulos:"1 612 000+ articles"}),i.a.createElement(E,{link:"//es.wikipedia.org/",title:"Espa\xf1ol \u2014 Wikipedia \u2014 La enciclopedia libre",lingua:"Espa\xf1ol",qtd_articulos:"1 612 000+ art\xedculos"}),i.a.createElement(E,{link:"//ru.wikipedia.org/",title:"Russkiy \u2014 \u0412\u0438\u043a\u0438\u043f\u0435\u0434\u0438\u044f \u2014 \u0421\u0432\u043e\u0431\u043e\u0434\u043d\u0430\u044f \u044d\u043d\u0446\u0438\u043a\u043b\u043e\u043f\u0435\u0434\u0438\u044f",lingua:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",qtd_articulos:"1 644 000+ \u0441\u0442\u0430\u0442\u0435\u0439"}),i.a.createElement(E,{link:"//it.wikipedia.org/",title:"Italiano \u2014 Wikipedia \u2014 L'enciclopedia libera",lingua:"Italiano",qtd_articulos:"1 623 000+ voci"}),i.a.createElement(E,{link:"//pt.wikipedia.org/",title:"Portugu\xeas \u2014 Wikip\xe9dia \u2014 A enciclop\xe9dia livre",lingua:"Portugu\xeas",qtd_articulos:"1 039 000+ artigos"}),i.a.createElement(E,{link:"//ja.wikipedia.org/",title:"Nihongo \u2014 \u30a6\u30a3\u30ad\u30da\u30c7\u30a3\u30a2 \u2014 \u30d5\u30ea\u30fc\u767e\u79d1\u4e8b\u5178",lingua:"\u65e5\u672c\u8a9e",qtd_articulos:"1 128 000+ \u8a18\u4e8b"}),i.a.createElement(E,{link:"//de.wikipedia.org/",title:"Deutsch \u2014 Wikipedia \u2014 Die freie Enzyklop\xe4die",lingua:"Deutsch",qtd_articulos:"2 458 000+ Artikel"}),i.a.createElement(E,{link:"//fr.wikipedia.org/",title:"Fran\xe7ais \u2014 Wikip\xe9dia \u2014 L\u2019encyclop\xe9die libre",lingua:"Fran\xe7ais",qtd_articulos:"2 236 000+ articles"}),i.a.createElement(E,{link:"//zh.wikipedia.org/",title:"Zh\u014dngw\xe9n \u2014 \u7dad\u57fa\u767e\u79d1 \u2014 \u81ea\u7531\u7684\u767e\u79d1\u5168\u66f8",lingua:"\u4e2d\u6587",qtd_articulos:"1 130 000+ \u689d\u76ee"}),i.a.createElement(E,{link:"//pl.wikipedia.org/",title:"Polski \u2014 Wikipedia \u2014 Wolna encyklopedia",lingua:"\u4e2d\u6587",qtd_articulos:"1 420 000+ hasel"}))}),v=a(31),k=a.n(v),b=(a(59),function(){return i.a.createElement("div",{className:"abaixo"},i.a.createElement("div",{className:"busca"},i.a.createElement("div",{className:"busca_bg"},i.a.createElement("input",{type:"text",className:"inputText"}),i.a.createElement("select",{className:"selectIdioma"},i.a.createElement("option",null,"EN")))),i.a.createElement("div",{className:"botaoSearch"},i.a.createElement("img",{src:k.a,alt:"Search Icon",className:"searchIcon"})))}),A=(a(60),function(){return i.a.createElement("div",{className:"topo"},i.a.createElement("h1",null,"Wikipedia"),i.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/9/99/Wikipedia_wordmark_Candidate.svg",alt:"logo",className:"letreiro"}),i.a.createElement("p",null,"The Free Encyclopedia"),i.a.createElement("img",{src:"https://www.wikipedia.org/portal/wikipedia.org/assets/img/Wikipedia-logo-v2.png",alt:"wikipedia",className:"imagem"}))}),w=a(19),S=(a(61),function(e){var t=e.arquivo;return i.a.createElement("div",{className:"post-card"},i.a.createElement("h3",null,e.name),i.a.createElement("h3",null,"Texto:"),i.a.createElement("p",null,e.text),i.a.createElement("h3",null,"Arquivo: "),i.a.createElement("p",null,t.slice(10)),i.a.createElement("button",null))}),C=(a(62),function(e){var t=Object(n.useState)([]),a=Object(w.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(""),s=Object(w.a)(o,2),c=s[0],m=s[1];return Object(n.useEffect)((function(){p.a.get("http://localhost:3003/post/?name="+c).then((function(e){console.log(e.data),r(e.data)}))}),[c]),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("h3",null,"Filtro de Nome: "),i.a.createElement("input",{type:"text",value:c,onChange:function(e){return m(e.target.value)}})),i.a.createElement("div",{className:"posts"},l.map((function(e){return i.a.createElement(S,{name:e.name,text:e.text,arquivo:e.arquivo})}))))}),x=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={email:"",password:"",admin:!1,loggedIn:!1,failLogin:!1,errorEmail:"",errorPassword:"",textToSend:"",postName:""},e.onValidation=function(){var t=!0;if(e.state.email.length<=3||!e.state.email.includes("@"))e.setState({errorEmail:"e-mail inv\xe1lido"}),t=!1;else{var a=e.state.email.substring(0,e.state.email.indexOf("@")),n=e.state.email.substring(e.state.email.indexOf("@")+1,e.state.email.length);0===a.length||0===n.length?(e.setState({errorEmail:"e-mail inv\xe1lido"}),t=!1):e.setState({errorEmail:""})}return e.state.password.length<=3?(e.setState({errorPassword:"deve conter mais que 4 caracteres"}),t=!1):e.setState({errorPassword:""}),t},e.onLogin=function(){e.onValidation()&&p.a.get("http://localhost:3003/login/?email="+e.state.email+"&password="+e.state.password,{withCredentials:!0,credentials:"include"}).then((function(t){e.setLoggedin(!0),e.setState({email:t.data.user.email,failLogin:!1,admin:t.data.user.admin}),console.log(t.data.user)})).catch((function(t){e.setState({failLogin:!0}),console.log(t)}))},e.onLogout=function(){p.a.get("http://localhost:3003/logout",{withCredentials:!0,credentials:"include"}).then((function(t){e.setLoggedin(!1),e.setState({admin:!1})}))},e.setLoggedin=function(t){e.setState({loggedIn:t})},e.onLogin=e.onLogin.bind(Object(c.a)(e)),e.onLogout=e.onLogout.bind(Object(c.a)(e)),e.onChangeemail=e.onChangeemail.bind(Object(c.a)(e)),e.onChangePassword=e.onChangePassword.bind(Object(c.a)(e)),e.setLoggedin=e.setLoggedin.bind(Object(c.a)(e)),e.onValidation=e.onValidation.bind(Object(c.a)(e)),e.onChangeTextToSend=e.onChangeTextToSend.bind(Object(c.a)(e)),e.onChangePostName=e.onChangePostName.bind(Object(c.a)(e)),p.a.get("http://localhost:3003/currentuser",{withCredentials:!0,credentials:"include"}).then((function(t){"No user"!==t.data?(e.setState({loggedIn:!0,email:t.data.email,admin:t.data.admin}),console.log(t.data)):e.setState({loggedIn:!1})})).catch((function(e){console.log(e)})),e}return Object(s.a)(a,[{key:"onChangeemail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeTextToSend",value:function(e){this.setState({textToSend:e.target.value})}},{key:"onChangePostName",value:function(e){this.setState({postName:e.target.value})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("header",null,i.a.createElement("div",{className:"header"},i.a.createElement("h2",null,"Using Jikan API"),this.state.admin&&i.a.createElement("div",null,i.a.createElement("h3",null,"Upload File:"),i.a.createElement("form",{method:"POST",action:"http://localhost:3003/post",encType:"multipart/form-data"},i.a.createElement("input",{type:"file",name:"file"}),i.a.createElement("label",null,"Name: "),i.a.createElement("input",{type:"text",name:"name",value:this.state.postName,onChange:function(t){return e.onChangePostName(t)}}),i.a.createElement("label",null,"Text: "),i.a.createElement("input",{type:"text",name:"text",value:this.state.textToSend,onChange:function(t){return e.onChangeTextToSend(t)}}),i.a.createElement("label",null,"Author: "),i.a.createElement("input",{type:"text",name:"author",value:this.state.email}),i.a.createElement("input",{type:"submit",value:"enviar"}))),i.a.createElement("div",{className:this.state.loggedIn?"loggedin":"loggedin-off"},i.a.createElement("h3",null,"Logged as ",this.state.email),i.a.createElement("h3",null,"Token ",this.state.token),i.a.createElement("button",{onClick:function(){return e.onLogout()}},"Logout")),i.a.createElement("div",{className:this.state.loggedIn?"login-off":"login"},i.a.createElement("h3",null,"E-mail: ",i.a.createElement("span",{className:"senha-email-invalido"},this.state.errorEmail)),i.a.createElement("input",{type:"text",onChange:function(t){return e.onChangeemail(t)}}),i.a.createElement("h3",null,"Password: ",i.a.createElement("span",{className:"senha-email-invalido"},this.state.errorPassword)),i.a.createElement("input",{type:"password",onChange:function(t){return e.onChangePassword(t)}}),i.a.createElement("div",{className:"senha-email-invalido"},i.a.createElement("h4",null,this.state.failLogin?"Senha ou e-mail inv\xe1lido":"")),i.a.createElement("div",{className:"login-submit"},i.a.createElement("input",{type:"submit",value:"Login",onClick:function(){return e.onLogin()}}),i.a.createElement("button",null,i.a.createElement(h.b,{to:"/cadastro"},"Sign up")))))),i.a.createElement(C,null),i.a.createElement(A,null),i.a.createElement(f,null),i.a.createElement(b,null),i.a.createElement(d,{ref:"child",email:this.state.email,password:this.state.password,setLoggedin:this.setLoggedin,loggedIn:this.state.loggedIn}))}}]),a}(n.Component),y=(a(68),function(e){return e.condition?e.children:null}),N=function(e){return i.a.createElement("div",null,i.a.createElement("h3",null,e.log),i.a.createElement("button",null,i.a.createElement(h.b,{to:"/"},"Back to site")))},j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:"",admin:!1,errorEmail:"",errorPassword:"",cadStep:0},e.onValidation=function(){var t=!0;if(e.state.email.length<=3||!e.state.email.includes("@"))e.setState({errorEmail:"e-mail inv\xe1lido"}),t=!1;else{var a=e.state.email.substring(0,e.state.email.indexOf("@")),n=e.state.email.substring(e.state.email.indexOf("@")+1,e.state.email.length);0===a.length||0===n.length?(e.setState({errorEmail:"e-mail inv\xe1lido"}),t=!1):e.setState({errorEmail:""})}return e.state.password.length<=3?(e.setState({errorPassword:"deve conter mais que 4 caracteres"}),t=!1):e.setState({errorPassword:""}),t},e.onCreateAccount=function(){e.onValidation()&&p.a.post("http://localhost:3003/register",{email:e.state.email,password:e.state.password,admin:e.state.admin}).then((function(t){e.setState({cadStep:1})})).catch((function(t){e.setState({cadStep:2}),console.log(t)}))},e}return Object(s.a)(a,[{key:"onChangeemail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeAdmin",value:function(e){this.setState({admin:e.target.checked})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main_div"},i.a.createElement(y,{condition:1===this.state.cadStep},i.a.createElement(N,{log:"Cadastro realizado com sucesso!"})),i.a.createElement(y,{condition:2===this.state.cadStep},i.a.createElement(N,{log:"Erro: 400"})),i.a.createElement(y,{condition:0===this.state.cadStep},i.a.createElement("div",null,i.a.createElement("h3",null,"E-mail: "),i.a.createElement("input",{type:"text",onChange:function(t){return e.onChangeemail(t)},value:this.state.email}),i.a.createElement("h4",null,this.state.errorEmail),i.a.createElement("h3",null,"Password: "),i.a.createElement("input",{type:"password",onChange:function(t){return e.onChangePassword(t)},value:this.state.password}),i.a.createElement("h3",null,"Admin: "),i.a.createElement("input",{type:"checkbox",value:this.state.admin,onChange:function(t){return e.onChangeAdmin(t)}}),i.a.createElement("h4",null,this.state.errorPassword),i.a.createElement("div",{className:"cadastrar-submit"},i.a.createElement("input",{type:"submit",value:"Cadastrar",onClick:function(){return e.onCreateAccount()}}),i.a.createElement("button",null,i.a.createElement(h.b,{to:"/"},"Back to Site"))))))}}]),a}(i.a.Component),O=a(1),T=function(e){return i.a.createElement(h.a,null,i.a.createElement(O.c,null,i.a.createElement(O.a,{path:"/",exact:!0,component:x}),i.a.createElement(O.a,{path:"/cadastro",exact:!0,component:j})))};r.a.render(i.a.createElement(T,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.9744ca24.chunk.js.map